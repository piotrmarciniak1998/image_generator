# 👨‍💻 Project: image_generator
Project for generating images used as a data set. Work in progress.
# 🚧 TODO
1. `generator.py` script improvements and implementation of necesarry features.
2. Improvements to code quality.
3. If possible, add functionality to display how much visible/ obstructed is the object.
# 💾 Installation through bash
```
cd ~/catkin_ws/src
git clone https://github.com/piotrmarciniak1998/image_generator/
cd ~/catkin_ws
source devel/setup.bash
catkin_make
```
# 🔨 Components 
`.launch` files: 
* `image_generator.launch` - main Gazebo world.
* `empty.launch` - empty Gazebo world.
* `kinect.launch` - Gazebo world with Kinect sensor.

`.py` scripts executed normally:
* `convert_obj_to_urdf` - converts any `*.obj` to `*.urdf` and creates a `.pickle` that is used for storing
data about objects in the project. **This script should be executed to ensure that the project works properly.**

`.py` main scripts working only through `rosrun`:
* `generator.py` - takes rgb and depth images of the mug placed in different table environments.

`.py` additional (testing) scripts working only through `rosrun`:
* `spawn_all.py` - spawns all `.urdf` objects generated by `convert_obj_to_urdf.py` in Gazebo.
* `test.py` - tests of camera management in Gazebo.
* `image_saver_node.py` - saves rgb image taken by kinect (temporary file)

`.py` services:
* `image_saver_server.py` - saves image with specified filename and with given index
# ▶️ Usage
1. It is recommended to execute `convert_obj_to_urdf.py`:
```
cd ~/catkin_ws/src/image_generator/scripts
python3 convert_obj_to_urdf.py
```
2. Use a `roslaunch` file (main file is `kinect.launch` for now):
```
cd ~/catkin_ws
source devel/setup.bash
roslaunch image_generator kinect.launch
```
3. Use the image saving server (necessary for `generator.py`):
```
cd ~/catkin_ws
source devel/setup.bash
rosrun image_generator image_saver_server.py
```
4. Use a `rosrun` script (main script is `generator.py`):
```
cd ~/catkin_ws
source devel/setup.bash
rosrun image_generator generator.py
```